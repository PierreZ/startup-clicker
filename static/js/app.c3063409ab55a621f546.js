webpackJsonp([1],{M8s4:function(s,t){},NHnr:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("7+uW"),n={render:function(){var s=this.$createElement,t=this._self._c||s;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},i=e("VU/8")({name:"app"},n,!1,function(s){e("qEMx"),e("xcdp"),e("pJxo")},null,null).exports,o=e("/ocq"),c=e("mvHQ"),r=e.n(c),l=e("woOf"),d=e.n(l),p={name:"Home",data:function(){return{money:0,clickCounter:0,timer:"",ws:{},assets:[],totalRate:0,showAssetsModal:!1,showUpgradesModal:!1}},methods:{refreshAssets:function(){var s=this;console.log("refreshing assets..."),fetch("https://app-6ed8f5ca-03ad-43e9-9366-bf87b695ff01.cleverapps.io/api/v0/assets").then(function(s){return s.json()}).then(function(t){s.assets=t.sort(function(s,t){var e=s.id,a=t.id;return e<a?-1:e>a?1:0});var e=s.assets.map(function(s){d()({},s);return s.rate*s.number});s.totalRate=e.reduce(function(s,t){return s+t})})},buy:function(s){fetch("https://app-6ed8f5ca-03ad-43e9-9366-bf87b695ff01.cleverapps.io/api/v0/assets/"+s,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}),this.refreshAssets()},parseMessage:function(s){switch(s.data.split(" ")[1].split("{")[0]){case"money":this.money=parseInt(s.data.split(" ")[2],10);break;case"asset":this.refreshAssets()}},flushClick:function(){this.clickCounter>0&&(fetch("https://app-6ed8f5ca-03ad-43e9-9366-bf87b695ff01.cleverapps.io/api/v0/money",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:r()({click:this.clickCounter})}),this.clickCounter=0)}},created:function(){this.refreshAssets(),this.ws=new WebSocket("wss://warp.pierrezemb.org/api/v0/plasma"),this.ws.addEventListener("open",function(s){this.send("SUBSCRIBE DlkMIXbwIKIw9Q25BP.o4G7zDibiURUEc1ATjqah2rNQgMys2SbuoXEwG6nPaCi5K61LhtnXRKSjt3EavUJW84r9FG.O1bo6upi.WrKDEj2fQ0hwto4tYk ~.*{} SUBSCRIPTIONS")}),this.ws.addEventListener("message",this.parseMessage),this.timer=setInterval(this.flushClick,1e3)}},u={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column col-1 col-ml-auto"},[a("a",{attrs:{href:"#"},on:{click:function(t){s.showAssetsModal=!0}}},[a("i",{staticClass:"icon icon-plus icon-2x"})])]),s._v(" "),a("div",{staticClass:"column col-2"},[a("a",{attrs:{href:"#"},on:{click:function(t){s.showUpgradesModal=!0}}},[a("i",{staticClass:"icon icon-upload icon-2x"})])])])]),s._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column",on:{click:function(t){s.connectWS()}}},[a("h1",{staticClass:"centered"},[s._v(s._s(s.money)+" euros")]),s._v(" "),a("h4",[s._v("per second: "+s._s(s.totalRate)+" euros/sec")])])]),s._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("a",{attrs:{href:"#"}},[a("img",{staticClass:"money centered img-responsive",attrs:{src:e("lYLx")},on:{click:function(t){s.clickCounter+=1,s.money+=1}}})])])])]),s._v(" "),a("div",{staticClass:"modal",class:{active:s.showAssetsModal},attrs:{id:"modal-id"}},[a("a",{staticClass:"modal-overlay",attrs:{href:"#","aria-label":"Close"},on:{click:function(t){s.showAssetsModal=!1}}}),s._v(" "),a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("a",{staticClass:"btn btn-clear float-right",attrs:{href:"#","aria-label":"Close"},on:{click:function(t){s.showAssetsModal=!1}}}),s._v(" "),a("div",{staticClass:"modal-title h5"},[s._v("Buy assets ("+s._s(s.money)+" euros available)")])]),s._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"content"},s._l(s.assets,function(t){return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"card-title h5"},[s._v(s._s(t.name))])]),s._v(" "),a("div",{staticClass:"card-body"},[s._v("\n              "+s._s(t.description)+"\n              "),a("br")]),s._v(" "),a("div",{staticClass:"card-footer"},[a("button",{staticClass:"btn btn-primary badge btn-error",class:{"btn-success":t.price>s.money},attrs:{"data-badge":""+t.number},on:{click:function(e){s.buy(t.name)}}},[s._v("Buy for "+s._s(t.price)+" euros")])])])}))]),s._v(" "),a("div",{staticClass:"modal-footer"},[s._v("\n        ...\n      ")])])])])},staticRenderFns:[]},f=e("VU/8")(p,u,!1,function(s){e("M8s4")},"data-v-5f12189f",null).exports;a.a.use(o.a);var v=new o.a({routes:[{path:"/",name:"Home",component:f}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:v,template:"<App/>",components:{App:i}})},lYLx:function(s,t,e){s.exports=e.p+"startup-clicker/static/img/money.b0316a1.png"},pJxo:function(s,t){},qEMx:function(s,t){},xcdp:function(s,t){}},["NHnr"]);
//# sourceMappingURL=app.c3063409ab55a621f546.js.map