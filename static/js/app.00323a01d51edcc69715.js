webpackJsonp([1],{"0DEJ":function(t,s){},"1Bb4":function(t,s){},CxrX:function(t,s){},NHnr:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("7+uW");window.bigInt=a("hsXF"),window.numeral=a("ViqS");var i={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]},n=a("VU/8")({name:"app"},i,!1,function(t){a("0DEJ"),a("CxrX"),a("Ujcr")},null,null).exports,o=a("/ocq"),c=a("mvHQ"),r=a.n(c),l=a("woOf"),d=a.n(l),u={name:"Home",data:function(){return{money:window.bigInt(),clickCounter:0,timer:"",ws:{},assets:[],totalRate:0,showAssetsModal:!1,showUpgradesModal:!1}},methods:{refreshAssets:function(){var t=this;console.log("refreshing assets..."),fetch("https://app-6ed8f5ca-03ad-43e9-9366-bf87b695ff01.cleverapps.io/api/v0/assets").then(function(t){return t.json()}).then(function(s){t.assets=s.sort(function(t,s){var a=t.id,e=s.id;return a<e?-1:a>e?1:0});var a=t.assets.map(function(t){d()({},t);return t.rate*t.number});t.totalRate=a.reduce(function(t,s){return t+s})})},buy:function(t){fetch("https://app-6ed8f5ca-03ad-43e9-9366-bf87b695ff01.cleverapps.io/api/v0/assets/"+t,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}),this.refreshAssets()},pushNotification:function(t){this.$toasted.show(t,{theme:"primary",position:"top-right",duration:5e3})},parseMessage:function(t){switch(t.data.split(" ")[1].split("{")[0]){case"money":var s=t.data.split(" ")[2];this.money=window.bigInt(s);break;case"asset":console.log(t.data);var a="";t.data.split(" ")[1].split("{")[1].split("}")[0].split(",").forEach(function(t){t.includes("name=")&&(a=t.split("=")[1])}),this.pushNotification("an "+a+" has been bought!"),this.refreshAssets()}},flushClick:function(){this.clickCounter>0&&(fetch("https://app-6ed8f5ca-03ad-43e9-9366-bf87b695ff01.cleverapps.io/api/v0/money",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:r()({click:this.clickCounter})}),this.clickCounter=0)}},created:function(){this.refreshAssets(),this.ws=new WebSocket("wss://warp.pierrezemb.org/api/v0/plasma"),this.ws.addEventListener("open",function(t){this.send("SUBSCRIBE DlkMIXbwIKIw9Q25BP.o4G7zDibiURUEc1ATjqah2rNQgMys2SbuoXEwG6nPaCi5K61LhtnXRKSjt3EavUJW84r9FG.O1bo6upi.WrKDEj2fQ0hwto4tYk ~.*{} SUBSCRIPTIONS")}),this.ws.addEventListener("message",this.parseMessage),this.timer=setInterval(this.flushClick,1e3)}},p={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home"},[e("div",{staticClass:"container"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column col-1 col-ml-auto"},[e("a",{attrs:{href:"#"},on:{click:function(s){t.showAssetsModal=!0}}},[e("i",{staticClass:"icon icon-plus icon-2x"})])]),t._v(" "),e("div",{staticClass:"column col-2"},[e("a",{attrs:{href:"#"},on:{click:function(s){t.showUpgradesModal=!0}}},[e("i",{staticClass:"icon icon-upload icon-2x"})])])])]),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column",on:{click:function(s){t.connectWS()}}},[e("h1",{staticClass:"centered"},[t._v(t._s(t.money.valueOf().toLocaleString())+" euros")]),t._v(" "),e("h4",[t._v("per second: "+t._s(t.totalRate.toLocaleString())+" euros/sec")])])]),t._v(" "),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("a",{attrs:{href:"#"}},[e("img",{staticClass:"money centered img-responsive",attrs:{src:a("lYLx")},on:{click:function(s){t.clickCounter+=1,t.money=t.money.add(1)}}})])])])]),t._v(" "),e("div",{staticClass:"modal",class:{active:t.showAssetsModal},attrs:{id:"modal-id"}},[e("a",{staticClass:"modal-overlay",attrs:{href:"#","aria-label":"Close"},on:{click:function(s){t.showAssetsModal=!1}}}),t._v(" "),e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("a",{staticClass:"btn btn-clear float-right",attrs:{href:"#","aria-label":"Close"},on:{click:function(s){t.showAssetsModal=!1}}}),t._v(" "),e("div",{staticClass:"modal-title h5"},[t._v("Buy assets ("+t._s(t.money.valueOf().toLocaleString())+" euros available)")])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"content"},t._l(t.assets,function(s){return e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"card-title h5"},[t._v(t._s(s.name))])]),t._v(" "),e("div",{staticClass:"card-body"},[t._v("\n              "+t._s(s.description)+"\n              "),e("br")]),t._v(" "),e("div",{staticClass:"card-footer"},[e("button",{staticClass:"btn badge",class:{disabled:s.price>t.money,"btn-success":s.price<t.money},attrs:{"data-badge":""+s.number},on:{click:function(a){t.buy(s.name)}}},[t._v("Buy for "+t._s(s.price.toLocaleString())+" euros")])])])}))]),t._v(" "),e("div",{staticClass:"modal-footer"},[t._v("\n        ...\n      ")])])])])},staticRenderFns:[]},f=a("VU/8")(u,p,!1,function(t){a("1Bb4")},"data-v-64a1aef7",null).exports;e.a.use(o.a);var h=new o.a({routes:[{path:"/",name:"Home",component:f}]}),v=a("IZMb"),m=a.n(v);e.a.use(m.a),e.a.config.productionTip=!1,new e.a({el:"#app",router:h,template:"<App/>",components:{App:n}})},Ujcr:function(t,s){},lYLx:function(t,s,a){t.exports=a.p+"startup-clicker/static/img/money.b0316a1.png"}},["NHnr"]);
//# sourceMappingURL=app.00323a01d51edcc69715.js.map