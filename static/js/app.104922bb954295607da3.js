webpackJsonp([1],{"0DEJ":function(t,s){},"7n1W":function(t,s){},CxrX:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("7+uW");window.bigInt=e("hsXF"),window.numeral=e("ViqS");var n={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]},i=e("VU/8")({name:"app"},n,!1,function(t){e("0DEJ"),e("CxrX"),e("Ujcr")},null,null).exports,o=e("/ocq"),c=e("mvHQ"),r=e.n(c),l=e("woOf"),d=e.n(l),u={name:"Home",data:function(){return{money:window.bigInt(),clickCounter:0,timer:"",ws:{},assets:[],totalRate:0,showAssetsModal:!1,showUpgradesModal:!1}},methods:{refreshAssets:function(){var t=this;console.log("refreshing assets..."),fetch("https://app-6ed8f5ca-03ad-43e9-9366-bf87b695ff01.cleverapps.io/api/v0/assets").then(function(t){return t.json()}).then(function(s){t.assets=s.sort(function(t,s){var e=t.id,a=s.id;return e<a?-1:e>a?1:0});var e=t.assets.map(function(t){d()({},t);return t.rate*t.number});t.totalRate=e.reduce(function(t,s){return t+s})})},buy:function(t){fetch("https://app-6ed8f5ca-03ad-43e9-9366-bf87b695ff01.cleverapps.io/api/v0/assets/"+t,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}),this.refreshAssets()},parseMessage:function(t){switch(t.data.split(" ")[1].split("{")[0]){case"money":var s=t.data.split(" ")[2];this.money=window.bigInt(s);break;case"asset":this.refreshAssets()}},flushClick:function(){this.clickCounter>0&&(fetch("https://app-6ed8f5ca-03ad-43e9-9366-bf87b695ff01.cleverapps.io/api/v0/money",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:r()({click:this.clickCounter})}),this.clickCounter=0)}},created:function(){this.refreshAssets(),this.ws=new WebSocket("wss://warp.pierrezemb.org/api/v0/plasma"),this.ws.addEventListener("open",function(t){this.send("SUBSCRIBE DlkMIXbwIKIw9Q25BP.o4G7zDibiURUEc1ATjqah2rNQgMys2SbuoXEwG6nPaCi5K61LhtnXRKSjt3EavUJW84r9FG.O1bo6upi.WrKDEj2fQ0hwto4tYk ~.*{} SUBSCRIPTIONS")}),this.ws.addEventListener("message",this.parseMessage),this.timer=setInterval(this.flushClick,1e3)}},p={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"home"},[a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column col-1 col-ml-auto"},[a("a",{attrs:{href:"#"},on:{click:function(s){t.showAssetsModal=!0}}},[a("i",{staticClass:"icon icon-plus icon-2x"})])]),t._v(" "),a("div",{staticClass:"column col-2"},[a("a",{attrs:{href:"#"},on:{click:function(s){t.showUpgradesModal=!0}}},[a("i",{staticClass:"icon icon-upload icon-2x"})])])])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column",on:{click:function(s){t.connectWS()}}},[a("h1",{staticClass:"centered"},[t._v(t._s(t.money.valueOf().toLocaleString())+" euros")]),t._v(" "),a("h4",[t._v("per second: "+t._s(t.totalRate.toLocaleString())+" euros/sec")])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("a",{attrs:{href:"#"}},[a("img",{staticClass:"money centered img-responsive",attrs:{src:e("lYLx")},on:{click:function(s){t.clickCounter+=1,t.money=t.money.add(1)}}})])])])]),t._v(" "),a("div",{staticClass:"modal",class:{active:t.showAssetsModal},attrs:{id:"modal-id"}},[a("a",{staticClass:"modal-overlay",attrs:{href:"#","aria-label":"Close"},on:{click:function(s){t.showAssetsModal=!1}}}),t._v(" "),a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("a",{staticClass:"btn btn-clear float-right",attrs:{href:"#","aria-label":"Close"},on:{click:function(s){t.showAssetsModal=!1}}}),t._v(" "),a("div",{staticClass:"modal-title h5"},[t._v("Buy assets ("+t._s(t.money.valueOf().toLocaleString())+" euros available)")])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"content"},t._l(t.assets,function(s){return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"card-title h5"},[t._v(t._s(s.name))])]),t._v(" "),a("div",{staticClass:"card-body"},[t._v("\n              "+t._s(s.description)+"\n              "),a("br")]),t._v(" "),a("div",{staticClass:"card-footer"},[a("button",{staticClass:"btn badge",class:{"btn-error":s.price>t.money,"btn-success":s.price<t.money},attrs:{"data-badge":""+s.number},on:{click:function(e){t.buy(s.name)}}},[t._v("Buy for "+t._s(s.price.toLocaleString())+" euros")])])])}))]),t._v(" "),a("div",{staticClass:"modal-footer"},[t._v("\n        ...\n      ")])])])])},staticRenderFns:[]},v=e("VU/8")(u,p,!1,function(t){e("7n1W")},"data-v-38adcb24",null).exports;a.a.use(o.a);var f=new o.a({routes:[{path:"/",name:"Home",component:v}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:f,template:"<App/>",components:{App:i}})},Ujcr:function(t,s){},lYLx:function(t,s,e){t.exports=e.p+"startup-clicker/static/img/money.b0316a1.png"}},["NHnr"]);
//# sourceMappingURL=app.104922bb954295607da3.js.map